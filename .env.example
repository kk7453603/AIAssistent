API_PORT=8080
LOG_LEVEL=info

POSTGRES_DSN=postgres://postgres:postgres@postgres:5432/assistant?sslmode=disable
NATS_URL=nats://nats:4222
NATS_SUBJECT=documents.ingest

OLLAMA_URL=http://ollama:11434
OLLAMA_GEN_MODEL=llama3.1:8b
OLLAMA_PLANNER_MODEL=
OLLAMA_EMBED_MODEL=nomic-embed-text
OLLAMA_PORT=11435
HOST_OLLAMA_HOST=host.docker.internal
HOST_OLLAMA_PORT=11434

QDRANT_URL=http://qdrant:6333
QDRANT_COLLECTION=documents
QDRANT_MEMORY_COLLECTION=conversation_memory

STORAGE_PATH=/data/storage
CHUNK_SIZE=900
CHUNK_OVERLAP=150
RAG_TOP_K=5
RAG_RETRIEVAL_MODE=semantic
RAG_HYBRID_CANDIDATES=30
RAG_FUSION_STRATEGY=rrf
RAG_FUSION_RRF_K=60
RAG_RERANK_TOP_N=20

OPENAI_COMPAT_API_KEY=
OPENAI_COMPAT_MODEL_ID=paa-rag-v1
OPENAI_COMPAT_CONTEXT_MESSAGES=5
OPENAI_COMPAT_STREAM_CHUNK_CHARS=120
OPENAI_COMPAT_TOOL_TRIGGER_KEYWORDS=file,document,upload,attach,документ,файл,загрузи,вложение
AGENT_MODE_ENABLED=false
AGENT_MAX_ITERATIONS=6
AGENT_TIMEOUT_SECONDS=90
AGENT_PLANNER_TIMEOUT_SECONDS=20
AGENT_TOOL_TIMEOUT_SECONDS=30
AGENT_SHORT_MEMORY_MESSAGES=12
AGENT_SUMMARY_EVERY_TURNS=6
AGENT_MEMORY_TOP_K=4
AGENT_KNOWLEDGE_TOP_K=5
WORKER_METRICS_PORT=9090
API_RATE_LIMIT_RPS=40
API_RATE_LIMIT_BURST=80
API_BACKPRESSURE_MAX_IN_FLIGHT=64
API_BACKPRESSURE_WAIT_MS=250
RESILIENCE_BREAKER_ENABLED=true
RESILIENCE_RETRY_MAX_ATTEMPTS=3
RESILIENCE_RETRY_INITIAL_BACKOFF_MS=100
RESILIENCE_RETRY_MAX_BACKOFF_MS=400
RESILIENCE_RETRY_MULTIPLIER=2.0
RESILIENCE_BREAKER_MIN_REQUESTS=10
RESILIENCE_BREAKER_FAILURE_RATIO=0.5
RESILIENCE_BREAKER_OPEN_MS=30000
RESILIENCE_BREAKER_HALF_OPEN_MAX_CALLS=2
NATS_CONNECT_TIMEOUT_MS=2000
NATS_RECONNECT_WAIT_MS=2000
NATS_MAX_RECONNECTS=60
NATS_RETRY_ON_FAILED_CONNECT=true
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=ChangeMeGrafana123!

OPENWEBUI_ADMIN_EMAIL=admin@example.com
OPENWEBUI_ADMIN_PASSWORD=ChangeMeStrongPass123!
OPENWEBUI_ADMIN_NAME=Admin
OPENWEBUI_SECRET_KEY=replace-with-long-random-secret
